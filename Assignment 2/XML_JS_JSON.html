<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Task 2 of Assignment 2 - JavaScript and JSON</title>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">
      function convertXMLtoJSON() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) myFunction(this);
        };
        xhttp.open("GET", "./Books.xml", true);
        xhttp.send();
        }
        
        function myFunction(xml) {
          var xmlArr = xml.responseXML.getElementsByTagName("book");
          var output = "<h3>CATALOG</h3>";
          for (var i = 0; i < xmlArr.length; i++) {
            output += "<h4>BOOK ("+(i+1)+")</h4>" + 
              "Author: " 			+ xmlArr[i].getElementsByTagName("author")[0].childNodes[0].nodeValue + "<br>" +
              "Title: "  			+ xmlArr[i].getElementsByTagName("title")[0].childNodes[0].nodeValue + "<br>" +
              "Genre: "  			+ xmlArr[i].getElementsByTagName("genre")[0].childNodes[0].nodeValue + "<br>" +
              "Price: "  			+ xmlArr[i].getElementsByTagName("price")[0].childNodes[0].nodeValue + "<br>" +
              "Publish Date: "	+ xmlArr[i].getElementsByTagName("publish_date")[0].childNodes[0].nodeValue + "<br>" +
              "Description: "  	+ xmlArr[i].getElementsByTagName("description")[0].childNodes[0].nodeValue + "<br>"
          }
          document.getElementById("demo").innerHTML = output;
        }
    </script>
  </head>
  <body>
    <h3>Task 2 of Assignment 2- Displaying Array of JSON objects</h3>
    <table>
      <tr>
        <td>
          <input onclick="convertXMLtoJSON()" name="btnConvertJSON" id="btnConvertJSON" value="JSONDisplay!" type="button">
        </td>
      </tr>
    </table>
    <p id="demo"></p>
  </body>
</html>